{% extends "base.html" %}

{% block content %}

<h2>Owned Books</h2>

{% for ownedbook in ownedbook_list %}
  <div
    style="
      margin-bottom: 16px;
      padding: 16px;
      max-width: 400px;
      outline: 1px solid rgba(0, 0, 0, 0.08);
    "
  >
    {% include "books/book.html" with book=ownedbook.book only %}

    <div style="margin-top: 8px">
      {% if ownedbook.read %}
      <span style="color: limegreen">Read</span>
      {% else %}
      <span style="color: darkred">Unread</span>
      {% endif %}
      <form action="books/toggleread" method="POST">
        {% csrf_token %}
        <input
          type="number"
          name="book_id"
          value="{{ ownedbook.book.id }}"
          hidden
        >
        <button type="submit">
          Toggle
        </button>
      </form>
    </div>

    <form action="books/remove" method="POST">
      {% csrf_token %}
      <input
        type="number"
        name="book_id"
        value="{{ ownedbook.book.id }}"
        hidden
      >
      <button
        type="submit"
        style="margin-top: 8px"
      >
        Remove from owned Books
      </button>
    </form>

  </div>
{% empty %}
  No owned books yet
{% endfor %}

{% endblock content %}
